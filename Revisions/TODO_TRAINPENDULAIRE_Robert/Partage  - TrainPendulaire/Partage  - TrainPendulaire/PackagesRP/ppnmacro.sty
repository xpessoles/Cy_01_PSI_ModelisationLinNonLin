\NeedsTeXFormat{LaTeX2e}[1999/01/01]
\ProvidesPackage{ppnmacro}[2007/10/12]



\RequirePackage{siunitx}
\RequirePackage{esvect}
\RequirePackage{mdframed}

%=================Raccourcis unit�s=========

\newcommand{\dB}[1][]{\SI{#1}{\deci\bel}}
\newcommand{\dBdec}[1][]{\SI{#1}{\deci\bel/dec}}
\newcommand{\radsec}[1][]{\SI{#1}{\radian\per\second}}
\newcommand{\Degre}{\SI{}{\degree}}
\newcommand{\Laplace}{\mathcal{L}}
\newcommand{\InvLaplace}{\mathcal{L}^{-1}}

\newcommand{\dBu}{\si{\deci\bel}}
\newcommand{\dBdecu}{\si{\deci\bel/dec}}

\newcommand{\radsecu}{\si{\radian\per\second}}


%=========================
\newcommand{\premier}{1\up{er}}
\newcommand{\deuxieme}{2\up{nd}}


%=========================Styles Tikz et couleurs========
\tikzset{
    bodeligne1/.style={line width=0.5mm, blue},
    bodeligne2/.style={bodeligne1, red},
    bodeligne3/.style={thick, black},
    bodeligne4/.style={bodeligne1, purple},
    bodeligne5/.style={bodeligne1, green},
    asymp1/.style={blue,line width=0.4mm},
    asymp2/.style={red,line width=0.4mm},
    asymp3/.style={bodeligne3,line width=0.4mm},
    asymp4/.style={bodeligne4,line width=0.4mm},
    templigne1/.style={line width=0.5mm, blue,smooth},
    templigne2/.style={line width=0.5mm, red,smooth},
    templigne3/.style={line width=0.5mm, black,smooth},
    templigne4/.style={line width=0.5mm, purple,smooth},
    axenoir/.style={black,line width=0.3mm},
    axebleu/.style={blue,line width=0.3mm},
    semilog lines/.style={line width=0.3mm, black},
    semilog lines 2/.style={semilog lines, black!80 },
    semilog half lines/.style={semilog lines 2, dashed },
    semilog label x/.style={semilog lines,below,font=\tiny},
    semilog label y/.style={semilog lines,right,font=\tiny},
    Temp grid/.style={line width=0.35mm,brown},
    Temp label axes/.style={Temp grid, font=\tiny},
    Temp label points/.style={font=\tiny},
    Abaque grid/.style={line width=0.3mm,black!80},
    Abaque lines/.style={line width=0.5mm, blue,smooth},    
    Nyquist lines/.style={line width=0.5mm, blue},
    Nyquist grid/.style={line width=0.3mm,black},
    Nyquist label axes/.style={Nyquist grid,font=\tiny},
    Nyquist label points/.style={font=\tiny},    
    Black lines/.style={line width=0.5mm, blue},
    Black grid/.style={line width=0.3mm,brown},
    Black abaque mag/.style={black!80,line width=0.3mm,dashed,smooth},
    Black abaque phase/.style={black!80,line width=0.3mm,smooth},
    Black label points/.style={font=\tiny},
    Black label axes/.style={Black grid, font=\tiny},
}

%===================d�grad�=======
%\tikzset{
%    bodeligne1/.style={thick, black,smooth},
%    bodeligne2/.style={black!70,thick,smooth},
%    bodeligne3/.style={bodeligne1, black!50},
%    bodeligne4/.style={bodeligne1, black!85},
%    bodeligne5/.style={bodeligne1, black!85,densely dashed},
%    asymp1/.style={ black,thin},
%    asymp2/.style={ black!90,thin},
%    asymp3/.style={bodeligne3,thin},
%    asymp4/.style={bodeligne4,thin},
%    templigne1/.style={thick,  black,smooth},
%    templigne2/.style={thick,  black!90,smooth},
%    templigne3/.style={thick,  black!80,smooth},
%    templigne4/.style={thick,  black!70,smooth},
%    axenoir/.style={black,thin},
%    axebleu/.style={ black!95,thin},
%}
%================================
\newcommand{\Couleur}{
\def\rouge{red}
\def\rougepale{red!25}
\def\bleu{blue}
\def\bleupale{blue!25}
\def\noir{black}
\def\pourpre{purple}
\def\marron{brown}
\def\vert{green}
\def\gris{gray}
}
%
\newcommand{\NoirBlanc}{
\def\noir{black}
\def\rouge{black!80}
\def\rougepale{black!75}
\def\pourpre{black!70}
\def\bleu{black!60}
\def\bleupale{black!55}
\def\marron{black!90}
\def\vert{black!40}
\def\gris{gray}


}



%------------------------------



% mes macros


\newcommand{\Rgal}{\mathcal{R}_g}
\newcommand{\Rep}[1][]{\mathcal{R}_{#1}}
\newcommand{\REF}[1][R]{\mathcal{#1}}

\newcommand{\Bas}[1][]{\mathcal{B}_{#1}}

\newcommand{\VitAB}[3]{\VV{#1}{#3}=\VV{#2}{#3}+\vv{\Omega_{#3}} \wedge \vv{{#2}{#1}}}
\newcommand{\VV}[2]{\vv{V_{#1\in {#2}}}}% Vitesse en #1 
\newcommand{\Omeg}[1]{\vv{\Omega_{#1}}}

\newcommand{\VNul}{\vv{0}}
\newcommand{\Vgamma}[2]{\vv{\Gamma_{{#1}{\in{#2}}}}}
\newcommand{\Vsigma}[2]{
\vv{\sigma_{{#1},{#2}}}
}

\newcommand{\VsigmaG}[2]{
\vv{\sigma_{{#1},{#2/\Rgal}}}
}

\newcommand{\Vdelta}[2]{
\vv{\delta_{{#1},{#2}}}
}

\newcommand{\VdeltaG}[2]{
\vv{\delta_{{#1},{#2/\Rgal}}}
}
\newcommand{\Moment}[2]{
\vv{\mathrm{M}_{{#1},#2}}
}

\newcommand{\dint}{\displaystyle\int}
\newcommand{\OmegCol}[3]{
\begin{pmatrix}
{#1} \\
 {#2}\\
 {#3} 
\end{pmatrix}
}

\newcommand{\Vx}[1][]{\vv{x_{#1}}}
\newcommand{\Vy}[1][]{\vv{y_{#1}}}
\newcommand{\Vz}[1][]{\vv{z_{#1}}}
\newcommand{\NormV}[1]{\left\|\vv{#1}\right\|}
\newcommand{\Module}[1]{
\left|#1\right|}
\newcommand{\axe}[2]{\left( #1,\vv{{#2}} \right)}

\newcommand{\base}[1]{
\left( \vv{x_{#1}},\vv{y_{#1}} , \vv{z_{#1}} \right)}
\newcommand{\repere}[2]{
\left(#1, \vv{x_{#2}},\vv{y_{#2}} , \vv{z_{#2}} \right)}

\newcommand{\Base}[3]{
\left( \vv{{#1}},\vv{{#2}} , \vv{{#3}} \right)}

\newcommand{\Repere}[4]{
\left(#1, \vv{{#2}},\vv{{#3}} , \vv{{#4}} \right)}

\newcommand{\Angle}[2]{
\left(\vv{#1},\vv{#2}\right)}


\newcommand{\Puis}[3][\Rgal]{
P_{\left({#2}\to#3\right/#1)}}

\newcommand{\Pint}[1]{
P_{int, #1}}

\newcommand{\PintL}[2]{
P_{#1 \leftrightarrow #2}
}

\newcommand{\dEC}[2][\Rgal]{
\diffta{Ec_{#2/#1}}}

\newcommand{\dECT}[2][\Rgal]{
\diffta{T_{#2/#1}}}

\newcommand{\EC}[2][\Rgal]{
{Ec_{#2/#1}}}

\newcommand{\ECT}[2][\Rgal]{
{T_{#2/#1}}}

\newcommand{\UnDemi}{\dfrac{1}{2}}
\newcommand{\undemi}{\frac{1}{2}}



\newcommand{\torseur}[3]{
\begin{Bmatrix}
 {#1} \\ {#2} \end{Bmatrix}_{\small #3} }


\newcommand{\torseurs}[8]{
\begin{Bmatrix}
 {#1} & {#4} \\
 {#2} & {#5} \\
 {#3} & {#6}
\end{Bmatrix}_{#7\hspace{0.5em}\underset{\llap{$\scriptstyle#8$}}{}}
}

\newcommand{\torseursOld}[8]{
\begin{Bmatrix}
 {#1} & {#4} \\
 {#2} & {#5} \\
 {#3} & {#6}  \end{Bmatrix}_{{}_{#8}^{#7}}
}


\newcommand{\Torseur}[2]{\Big \{ {\mathcal{#1}}_{#2} \Big \}}
\newcommand{\TV}[2][]{\left \{ \mathcal V_{#2}^{#1} \right \}}
\newcommand{\TC}[2][]{\left \{ \mathcal C_{#2}^{#1} \right \}}
\newcommand{\TS}[2][]{\left \{ \mathcal S_{#2}^{#1} \right \}}
\newcommand{\TD}[2][]{\left \{ \mathcal D_{#2}^{#1} \right \}}
\newcommand{\TP}[2][]{\left \{ \mathcal P_{#2}^{#1} \right \}}
\newcommand{\TF}[2][]{\left \{ \mathcal F_{#2}^{#1} \right \}}
\newcommand{\TA}[2][]{\left \{ \mathcal{A}_{#2}^{#1} \right \}}
\newcommand{\TL}[2][]{\left \{ \mathcal L_{#2}^{#1} \right \}}
\newcommand{\TT}[2][]{\left \{ \mathcal T_{#2}^{#1} \right \}}
\newcommand{\TG}[2][]{\left \{ \mathcal G_{#2}^{#1} \right \}}

\newcommand{\Tors}[3][]{\left \{ \mathcal #2_{#3}^{#1} \right \}}

\newcommand{\TNul}{\Big \{ 0 \Big \}}


\newcommand{\Inert}[2]
{\overline{\overline{\mathcal{I}_{#1}(#2)}}
}

\newcommand{\inert}[8]{
\begin{pmatrix}
{#1} & {#6} & {#5}  \\
{#6} & {#2} & {#4} \\
{#5} & {#4} & {#3} 
\end{pmatrix}_{{}_{#8}^{#7}}
}

\newcommand{\inertxyz}[3][S]{
\begin{pmatrix}
{\int_{\scriptsize P\in #1} y^2+z^2~\mathrm{d}m} & {-\int_{\scriptsize P\in #1} x\cdot y~\mathrm{d}m} & {-\int_{\scriptsize P\in #1} x\cdot z~\mathrm{d}m}  \\
{-\int_{\scriptsize P\in #1} x\cdot y~\mathrm{d}m} & {\int_{\scriptsize P\in #1} z^2+x^2~\mathrm{d}m} & {-\int_{\scriptsize P\in #1} y\cdot z~\mathrm{d}m} \\
{-\int_{\scriptsize P\in #1} x\cdot z~\mathrm{d}m} & {-\int_{\scriptsize P\in #1} y\cdot z~\mathrm{d}m} & {\int_{\scriptsize P\in #1} x^2 +y^2~\mathrm{d}m} 
\end{pmatrix}_{{}_{#3}^{#2}}
}

\newcommand{\Vcol}[3]{
\begin{pmatrix}
{#1}\\
{#2}\\
{#3}
\end{pmatrix}
}


\newcounter{annexeMath}
\setcounter{annexeMath}{1}

\newcommand{\complementMath}[1][]{ \textbf{C M \theannexeMath: #1}  \stepcounter{annexeMath}\par}


\mdfdefinestyle{math}{%
linecolor=green!30,linewidth=3pt,%
leftmargin=1.5cm,rightmargin=1.5cm,
frametitlebackgroundcolor=green!20,
backgroundcolor=green!7,}


\newenvironment{ComplementMath}[1][ ]{%
  \begin{mdframed}[style=math,frametitle={\complementMath[#1]}]
}{%
  \end{mdframed}
}


\mdfdefinestyle{exemple}{%
linecolor=purple!30,linewidth=3pt,%
leftmargin=0.5cm,rightmargin=0.5cm,
frametitlebackgroundcolor=purple!12,
backgroundcolor=purple!5,}


\newenvironment{MyExemple}[1][ ]{%
  \begin{mdframed}[style=exemple,frametitle={Exemple guidé : #1}]
}{%
  \end{mdframed}
}


\newcommand{\huyggens}[4]
{#1 \cdot \begin{pmatrix}
{{#3}^2 +{#4}^2} & {-{#2} \cdot {#3}} & {-{#2} \cdot {#4}}  \\
{-{#2} \cdot {#3}} & {{#4}^2 +{#2}^2} & {-{#3} \cdot {#4}} \\
{-{#2} \cdot {#4}} & {-{#3} \cdot {#4}} & {{#2}^2 +{#3}^2} 
\end{pmatrix}
}
%commandes graphiques
%figure de calculs

%\newcommand{\dvect}[2]{\left[ \dfrac{d#1}{dt} \right]_{#2}}


\newcommand{\premiermMath}{1$^{\mathrm{er}}$}
\newcommand{\deuxiemeMath}{2$^{\mathrm{d}}$}

\newcommand{\Remarques}{\textbf{Remarques~: }}



\newcommand{\Tlaplace}[2]{
\Laplace\left({#1(t)}\right)=#2(p)
}

\newcommand{\difft}[1]{
\dfrac{\mathrm{d}\,#1}{\mathrm{dt}}}

\newcommand{\diffta}[1]{
\dfrac{\mathrm{d}}{\mathrm{dt}}\left[#1\right]
}

\newcommand{\diffvt}[2]{
\left[\dfrac{\mathrm{d}}{\mathrm{dt}}#1\right]_{#2}}

\newcommand{\difftt}[2][2]{
\dfrac{\mathrm{d}^{#1}\,#2}{\mathrm{dt}^{#1}}}

\newcommand{\diffvtt}[2]{
\left[\dfrac{\mathrm{d}^2}{\mathrm{dt}^2}#1\right]_{#2}}



\newenvironment{Align}{\par\begin{center} $\begin{aligned}}{\end{aligned}$\end{center}}




%==========================objectifs TP =============================

\newcommand{\ProbTech}[1][ ]{#1}



\newcommand{\CI}[1][ ]{#1}
\newcommand{\ConnaisNouv}[1][ ]{#1}
\newcommand*{\Prerequis}[1][ ]{#1}
\newcommand{\SysUtil}[1][ ]{#1}
\newcommand*{\Logiciels}[1][ ]{#1}
\newcommand{\DocEleve}[1][ ]{#1}
\newcommand{\DocConsult}[1][ ]{#1}
\newcommand{\TravailAFaire}[1][Cf. Fiche de travail ]{#1}
\newcommand{\Evaluation}[1][L'�tude doit �tre r�alis�e et rendue � la fin de la s�quence de TP ]{#1}

\newcommand{\TableauObjectif}{
\renewcommand{\arraystretch}{1.5}
\rowcolors{1}{lightgray}{}
\begin{tabular}{|M{0.45\linewidth}|| M{0.45\linewidth}|} \hline 
\textbf{Objectif}	& \textbf{Centre d'int�r�t} \tabularnewline \hline
\ProbTech                         & \CI                      \tabularnewline \hline
\textbf{Connaissances nouvelles}	& \textbf{Pr� requis}        \tabularnewline \hline
\ConnaisNouv                     & \Prerequis                 \tabularnewline \hline
\textbf{Syst�me(s) utilis�(s)}& 	\textbf{Logiciels et supports compl�mentaires} \tabularnewline \hline
\SysUtil                         & \Logiciels                       \tabularnewline \hline
\textbf{Documents �l�ves}	& \textbf{Documents � consulter} \tabularnewline \hline
\DocEleve                   & \DocConsult                    \tabularnewline \hline
\textbf{Travail � r�aliser	}& \textbf{�valuation} \tabularnewline \hline
 \TravailAFaire              &  \Evaluation \tabularnewline \hline
\end{tabular}
\rowcolors{1}{}{}
}

%==========Fonction de Heaviside
\newcommand{\heav}[1][t]{\mathcal {H}(#1)}


%================Unit�s=============

%\newcommand{\mm}{\milli\metre}





%================Vrac ===============
\newcommand{\Remarque}[1][]{\textbf{Remarque #1~: }}




\newcounter{afaire}
\newcommand{\Afaire}{\refstepcounter{afaire}\vfill{\par \centering \textbf{A Faire n~\theafaire}\par}\vfill}




%============== macros tikz


\newenvironment{TIKZ}{\shorthandoff{;!:?}\begin{tikzpicture}}{\end{tikzpicture}\shorthandon{;!:?}}


\newcommand*{\figcalc}{\@ifstar\figcalcseul\figcalctikz}
\newcommand{\figcalctikz}[6][]{\begin{tikzpicture}
\begin{scope}[thick, >=latex]
\draw[->] (0,0) -- (3,0) node[above] {$\vv{#2}$};
\draw[->] (0,0) -- (0,3) node[right] {$\vv{#3}$};
\draw[->] (0cm,0cm) -- (25:3cm) node[above] {$\vv{#4}$};
\draw[->] (0cm,0cm) -- (115:3cm) node[right] {$\vv{#5}$};
\draw[->] (1,0) arc (0:25:1cm)node[right=0.5em] {$#6$} ;
\node[below](0,0){${#1}$};
\end{scope}
\end{tikzpicture}}

\newcommand{\figcalcseul}[6][]{
\begin{scope}[thick, >=latex]
\draw[->] (0,0) -- (3,0) node[above] {$\vv{#2}$};
\draw[->] (0,0) -- (0,3) node[right] {$\vv{#3}$};
\draw[->] (0cm,0cm) -- (25:3cm) node[above] {$\vv{#4}$};
\draw[->] (0cm,0cm) -- (115:3cm) node[right] {$\vv{#5}$};
\draw[->] (1,0) arc (0:25:1cm)node[right=0.5em] {$#6$} ;
\node[below](0,0){${#1}$};
\end{scope}}




\newcommand{\Tkzpoint}[2]{
\node (#1) at (#1) {$\times$};
\node[above left, node distance=0.8em] (text#1) at (#1) {#2};
}



\newcommand*{\PointTikz}{\@ifstar\PointTikzmath\PointTikzseul}
\newcommand{\PointTikzseul}[3][above right]{
\coordinate (#2) at (#3);
\draw[fill] (#2) circle (0.3mm);
\node[#1] at (#2){#2};
}

\newcommand{\PointTikzmath}[4][above right]{
\coordinate (#2) at (#4);
\draw[fill] (#2) circle (0.3mm);
\node[#1] at (#2){#3};
}

\newcommand{\coteArc}[5]{
\pgfmathsetmacro\diam{2*#4}
\node[overlay,circle,minimum size=\diam] (ccc) at (#1){};
\pgfmathsetmacro\Tbend{(#3-#2)/2}
\draw[-latex] (ccc.#2) to [bend right=\Tbend] (ccc.#3);
\node[right]at(ccc.\Tbend){#5};
\node[circle,minimum size=0] (ccc) at (#1){};
}


\newcommand{\coteH}[4][1]{
\draw[opacity=0](#2) -- ++(0,#1) node[name=coteH]{};
\coordinate (coteH) at (coteH.east);
\draw[latex-latex,ultra thin](#2|-coteH) -- (#3|-coteH)node[midway,above]{#4};
\draw[ultra thin](#2) --(#2|-coteH)-- ++(0,0.2em);
\draw[ultra thin](#3) --(#3 |-coteH)-- ++(0,0.2em);
}


\newcommand{\coteV}{\@ifstar\coteVOriente\coteVNoOriente}
\newcommand{\coteVNoOriente}[4][1]{
\path(#2) -- ++(#1,0) node[name=coteV]{};
\coordinate (#2coteV) at (coteV.north);
\draw[latex-latex,ultra thin](#2-|coteV) -- (#3-|coteV)node[midway,above,sloped]{#4};
\draw[ultra thin](#2) --(#2-|coteV)-- ++(0.2em,0);
\draw[ultra thin](#3) --(#3 -|coteV)-- ++(0.2em,0);
}
\newcommand{\coteVOriente}[4][1]{
\path(#2) -- ++(#1,0) node[name=coteV]{};
\coordinate (#2coteV) at (coteV.north);
\draw[-latex,ultra thin](#2-|coteV) -- (#3-|coteV)node[midway,above,sloped]{#4};
\draw[ultra thin](#2) --(#2-|coteV)-- ++(0.2em,0);
\draw[ultra thin](#3) --(#3 -|coteV)-- ++(0.2em,0);
}

\newcommand{\coteVV}{\@ifstar\coteVVd\coteVVg}
\newcommand{\coteVVg}[5][0]{
\draw[opacity=0](#2) -- ++(#1,0) node[name=coteV]{};
\coordinate (coteV) at (coteV.north);
\draw[latex-latex,ultra thin](#2-|coteV) -- (#3-|coteV);
\draw[ultra thin](#2) --(#2-|coteV)-- ++(0.2em,0);
\draw[ultra thin](#3) --(#3 -|coteV)-- ++(0.2em,0);
\draw[latex-latex,ultra thin](#2-|coteV) -- (#3-|coteV);
\draw[ultra thin](#2-|coteV) -- (#3-|coteV)-- ++(0,#5)node[very near end,sloped,above,rotate=180,allow upside down]{#4};
}
\newcommand{\coteVVd}[5][0]{
\draw[opacity=0](#2) -- ++(#1,0) node[name=coteV]{};
\coordinate (coteV) at (coteV.north);
\draw[latex-latex,ultra thin](#2-|coteV) -- (#3-|coteV);
\draw[ultra thin](#2) --(#2-|coteV)-- ++(0.2em,0);
\draw[ultra thin](#3) --(#3 -|coteV)-- ++(0.2em,0);
\draw[latex-latex,ultra thin](#2-|coteV) -- (#3-|coteV);
\draw[ultra thin](#2-|coteV) -- (#3-|coteV)-- ++(0,#5)node[very near end,sloped,above,allow upside down]{#4};
}


%==========grille
\newcommand{\tikzgrid}{
\draw[step=2mm,ultra thin,blue] (current bounding box.south west) grid
(current bounding box.north east);
\draw[step=1cm,thin,red] (current bounding box.south west) grid (current
bounding box.north east);
\draw[step=5cm,thick,red] (current bounding box.south west) grid
(current bounding box.north east);
}

%=======mes hachures

\pgfdeclarepatternformonly{hachA}
{\pgfpointorigin}
{\pgfpoint{0.2cm}{0.6cm}}
{\pgfpoint{0.2cm}{0.6cm}}
{\pgfpathmoveto{\pgfpointorigin}
  \pgfpathlineto{\pgfpoint{0.2cm}{0.6cm}}
\pgfusepath{stroke}}

\pgfdeclarepatternformonly{hachB}
{\pgfpointorigin}
{\pgfpoint{0.8cm}{0.4cm}}
{\pgfpoint{0.8cm}{0.4cm}}
{\pgfpathmoveto{\pgfpointorigin}
  \pgfpathlineto{\pgfpoint{0.8cm}{0.4cm}}
\pgfusepath{stroke}}

\pgfdeclarepatternformonly{hachC}
{\pgfpointorigin}
{\pgfpoint{-0.2cm}{0.6cm}}
{\pgfpoint{-0.2cm}{0.6cm}}
{\pgfpathmoveto{\pgfpointorigin}
  \pgfpathlineto{\pgfpoint{-0.2cm}{0.6cm}}
\pgfusepath{stroke}}

%=============SADT

\newcommand{\BoiteAction}[4][]{
\node[draw,thick,align=center,#1](Box#2) at (#3){#4};
\node[above left] at (Box#2.south east){\tiny #2};
}


%================Divers

\newcommand{\gras}[1]{ \textbf{#1}}
%\renewcommand{\thechapter}{\Roman{chapter}}
%\renewcommand{\thesection}{\Alph{section}}

\def\numtext#1{%
  \ifcase#1\or one\or two\or three\or four\or five\or six\or seven\or eight\or nine\or ten\or
eleven\or twelve\or thirteen\or fourteen\or fifteen\or sixteen\or seventeen\or eighteen\or nineteen\or twenty\or Lots\fi}

\newcommand{\Byte}[3][]{
\def\nodecontents{}%
\foreach[count=\l] \k in {#2} {
    \xappto{\nodecontents}{\noexpand\nodepart{\numtext{\l}}\k}
}
\node [rectangle split,rectangle split parts=8, rectangle split horizontal,draw,#1] (#3)
{\nodecontents};
}


\usepackage{accents}
\newcommand*{\dt}[1]{%
  \accentset{\mbox{\large\bfseries .}}{#1}}
\newcommand*{\ddt}[1]{%
  \accentset{\mbox{\large\bfseries .\hspace{-0.1ex}.}}{#1}}
  
\newcommand{\oeuvre}{\oe uvre}
